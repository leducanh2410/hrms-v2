<div class="absolute inset-0 flex flex-col min-w-0 overflow-hidden bg-gray-100">
  <div class="flex-auto sm:p-2 shadow overflow-y-auto w-full" cdkScrollable>
    <div class="w-panel mx-auto">
      <mat-accordion class="flex-auto mt-4">
        <mat-expansion-panel ngClass="mb-2" expanded="true">
          <mat-expansion-panel-header>
            <mat-panel-title class="truncate"
              >Quá trình hưởng lương
            </mat-panel-title>
            <button
              [disabled]="!model"
              style="margin-right: 20px"
              color="primary"
              class="mx-1"
              mat-flat-button
              (click)="xuatExcel()"
            >
              <i class="fa-regular fa-file-excel" matTooltip="Xuất excel"></i>
            </button>
            <button
              *ngIf="nsInfo?.isNghiviec == null || nsInfo?.isNghiviec == false"
              style="margin-right: 20px"
              color="primary"
              class="mx-1"
              mat-flat-button
              (click)="themluong()"
            >
              <i
                class="fa-light fa-circle-plus"
                matTooltip="Thêm mới quá trình lương"
              ></i>
            </button>
          </mat-expansion-panel-header>

          <p-table
            [value]="listLuong"
            responsiveLayout="stack"
            [breakpoint]="'960px'"
            [tableStyle]="{ width: '100%' }"
            [paginator]="true"
            [rows]="10"
          >
            <ng-template pTemplate="header" let-columns>
              <tr>
                <th style="width: 10%" class="text-black border">
                  Ngày hiệu lực
                </th>
                <th style="width: 8%" class="text-black border">
                  Lương thu nhập
                </th>
                <th style="width: 8%" class="text-black border">Thâm niên</th>
                <th style="width: 8%" class="text-black border">Kiêm nhiệm</th>
                <th style="width: 8%" class="text-black border">Thu hút</th>
                <th style="width: 8%" class="text-black border">Biệt phái</th>
                <th style="width: 8%" class="text-black border">Trách nhiệm</th>
                <th style="width: 8%" class="text-black border">Vùng miền</th>
                <th style="width: 8%" class="text-black border">Đắt đỏ</th>
                <th style="width: 8%" class="text-black border">Phụ cấp</th>
                <th style="width: 8%" class="text-black border">
                  Ngày cập nhật
                </th>
                <th style="width: 8%" class="text-black border">Trạng thái</th>
                <th style="width: 8%" class="text-black border">Thao tác</th>
              </tr>
            </ng-template>
            <ng-template
              pTemplate="body"
              let-luong
              let-columns="columns"
              let-i="rowIndex"
            >
              <tr class="border border-gray-200">
                <td class="border">
                  {{ luong.ngayHieuLuc | date : "dd/MM/yyyy" }}
                </td>
                <td class="border">
                  {{ luong.luongThuNhap | currency : "VND" }}
                </td>
                <td class="border">{{ luong.thamNien | currency : "VND" }}</td>
                <td class="border">{{ luong.kiemNhiem | currency : "VND" }}</td>
                <td class="border">{{ luong.thuHut | currency : "VND" }}</td>
                <td class="border">{{ luong.bietPhai | currency : "VND" }}</td>
                <td class="border">
                  {{ luong.trachNhiem | currency : "VND" }}
                </td>
                <td class="border">{{ luong.vungMien | currency : "VND" }}</td>
                <td class="border">{{ luong.datDo | currency : "VND" }}</td>
                <td class="border">{{ luong.phuCap | currency : "VND" }}</td>
                <td class="border">
                  {{ luong.updatedAt | date : "dd/MM/yyyy" }}
                </td>
                <td class="border">{{ luong.trangThai ? "Duyệt" : "Chưa duyệt" }}</td>

                <td style="width: 7%" class="text-center border">
                  <span class="p-column-title">Thao tác</span>
                  <div>
                    <button
                      type="button"
                      class="mr-2"
                      (click)="sualuong(luong)"
                    >
                      <i
                        class="fa-light fa-pencil icon-size-5"
                        matTooltip="Sửa"
                      ></i>
                    </button>

                    <button
                      type="button"
                      class="mr-2"
                      (click)="delete(luong.nsLuongId)"
                    >
                      <i
                        class="fa-light fa-trash-can icon-size-5"
                        matTooltip="Xóa"
                      ></i>
                    </button>
                  </div>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </mat-expansion-panel>
      </mat-accordion>
    </div>
  </div>
</div>
