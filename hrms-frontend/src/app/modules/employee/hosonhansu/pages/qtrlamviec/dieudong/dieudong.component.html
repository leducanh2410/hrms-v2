<div class="flex justify-between items-center">
    <p-divider align="left">
        <div class="inline-flex align-items-center justify-between">
            <b class="text-blue-600">Quá trình điều động</b>
        </div>
    </p-divider>
    <div class="flex">
        <button class="px-8 button-primary mr-2" mat-flat-button type="button" (click)="xuatExcel()">
            <i class="fa-regular fa-file-excel" matTooltip="Xuất excel"></i>
        </button>
        <button class="px-8 button-primary" mat-flat-button type="button" (click)="themdieudong()">
            <i class="fa-light fa-circle-plus" matTooltip="Thêm mới"></i>
        </button>
    </div>
</div>
<p-table [value]="data"   [tableStyle]="{ width: '100%'}">
    <ng-template pTemplate="header" let-columns>
        <tr>
            <th class="text-center" style="width: 10%">Ngày hiệu lực</th>
            <th class="text-center" style="width: 20%">Từ đơn vị</th>
            <th class="text-center" style="width: 10%">Bộ phận</th>
            <th class="text-center" style="width: 20%">Đến đơn vị</th>
            <th class="text-center" style="width: 18%">Bộ phận</th>
            <th class="text-center" style="width: 15%">Quyết định</th>
            <th class="text-center" style="width: 7%" class="text-center">Thao tác</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product let-columns="columns" let-i="rowIndex">
        <tr class="border-b border-gray-200">
            <td class="text-center" style="width: 10%; word-break: break-word;">
                {{ product.ngayhieuluc | date:'dd/MM/yyyy' }}
            </td>
            <td style="width: 20%; word-break: break-word;">
                {{ product.donvidi}}
            </td>
            <td style="width: 10%; word-break: break-word;">
                {{ product.phongdi }}
            </td>
            <!-- <td style="width: 5%"><p-tag [value]="product.inventoryStatus" [severity]="getSeverity(product.inventoryStatus)"></p-tag></td> -->
            <td style="width: 20%; word-break: break-word;">
                {{ product.donviden}}
            </td>
            <td style="width: 18%; word-break: break-word;">
                {{ product.phongden }}
            </td>
            <td style="width: 15%; word-break: break-word;">
                <div *ngIf="product.nsQdnoidungId" class="flex flex-row " style="width: 100%;">
                    <div class="flex flex-col justify-between" style="width: 100%;">
                        {{ product?.soQd }}
                        <p class="text-sm">Ngày ký: {{ product.ngayky | date:'dd/MM/yyyy' }}</p>
                        
                    </div>
                    <div *ngIf="product.fileName" class="flex flex-row justify-between">
                        <button type="button" class="mr-5"
                            (click)="viewFileQD(product.nsQdnoidungId)">
                            <i class="fa-light fa-eye icon-size-5" matTooltip="Xem"></i>
                        </button>
                        <button type="button" class="mr-2"
                            (click)="downloadFileQD(product.nsQdnoidungId)">
                            <i class="fa-light fa-file-arrow-down icon-size-5"
                                matTooltip="Download"></i>
                        </button>
                    </div>
                </div>
            </td>
      

            <td style="width: 7%" class="text-center">
                <div class="flex flex-row justify-between pl-3 pr-3">
                    <button type="button" class="mr-2" (click)="suadieudong(product)" >
                        <i class="fa-light fa-pencil icon-size-5" matTooltip="Sửa"></i>
                    </button>

                    <button type="button" (click)="delete(product.nsDdtchuyenId)">
                        <i class="fa-light fa-trash-can icon-size-5" matTooltip="Xóa"></i>
                    </button>
                </div>
            </td>
        </tr>
    </ng-template>
</p-table>