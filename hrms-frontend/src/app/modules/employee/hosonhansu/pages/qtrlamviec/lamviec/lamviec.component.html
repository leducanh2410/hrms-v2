<div class="flex justify-between items-center">
  <p-divider align="left">
    <div class="inline-flex align-items-center justify-between">
      <b class="text-blue-600">Quá trình làm việc tại đơn vị</b>
    </div>
  </p-divider>
  <div>
    <button
      mat-flat-button
      type="button"
      class="px-4 button-primary mr-2"
      (click)="xuatExcel()"
    >
      <i class="fa-regular fa-file-excel" matTooltip="Xuất excel"></i>
    </button>
    <button
      mat-flat-button
      type="button"
      class="px-4 button-primary"
      (click)="themchucdanh()"
    >
      <i class="fa-light fa-circle-plus" matTooltip="Thêm mới chức danh"></i>
    </button>
  </div>
</div>
<p-table
  [value]="data"
  responsiveLayout="stack"
  [breakpoint]="'960px'"
  [tableStyle]="{ width: '100%' }"
>
  <ng-template pTemplate="header" let-columns>
    <tr>
      <th style="width: 8%" class="text-black font-bold border">Từ ngày</th>
      <th style="width: 8%" class="text-black font-bold border">Đến ngày</th>
      <th style="width: 20%" class="text-black font-bold border">Chức danh</th>

      <th style="width: 30%" class="text-black font-bold border">Phòng ban/Đơn vị</th>
      <th style="width: 17%" class="text-black font-bold border">Nghề CNKT</th>
      <th style="width: 5%" class="text-black font-bold border">Hiện tại</th>
      <th style="width: 5%" class="text-black font-bold border">Kiêm nhiệm</th>
      <th style="width: 7%" class="text-center" class="text-black font-bold border">
        Thao tác
      </th>
    </tr>
  </ng-template>
  <ng-template
    pTemplate="body"
    let-product
    let-columns="columns"
    let-i="rowIndex"
  >
    <tr class="border-b border-gray-200">
      <td
        [ngClass]="{
          'text-blue-600': product.status != null && product.status != 0
        }"
        style="width: 8%; word-break: break-word; text-align: center"
      >
        <span class="p-column-title">Từ ngày</span
        >{{ product.tungay | date : "dd/MM/yyyy" }}
      </td>
      <td
        [ngClass]="{
          'text-blue-600': product.status != null && product.status != 0
        }"
        style="width: 8%; word-break: break-word; text-align: center"
      >
        <span class="p-column-title">Đến ngày</span
        >{{ product.denngay | date : "dd/MM/yyyy" }}
      </td>
      <td
        [ngClass]="{
          'text-blue-600': product.status != null && product.status != 0
        }"
        style="width: 20%; word-break: break-word"
      >
        <span class="p-column-title">Chức danh</span>{{ product.vtricdanh }}
      </td>
      <!-- <td [ngClass]="{'text-blue-600':product.status != null && product.status != 0}" style="width: 5%"><p-tag [value]="product.inventoryStatus" [severity]="getSeverity(product.inventoryStatus)"></p-tag></td> -->
      <!-- <td [ngClass]="{'text-blue-600':product.status != null && product.status != 0}" style="width: 20%; word-break: break-word;">
                <span class="p-column-title">Bộ phận</span>{{ product.tenbophan }}
            </td>-->
      <td
        [ngClass]="{
          'text-blue-600': product.status != null && product.status != 0
        }"
        style="width: 30%; word-break: break-word"
      >
        <span class="p-column-title">Phòng ban/Đơn vị</span>
        <div class="flex flex-col">
          <span style="font-size: 12">
            {{ product.tenbophan }}
          </span>
          <p class="text-sm">
            {{ product.tendonvi }}
          </p>
        </div>
      </td>
      <td
        [ngClass]="{
          'text-blue-600': product.status != null && product.status != 0
        }"
        style="width: 17%; word-break: break-word"
      >
        <span class="p-column-title">Nghề CNKT</span>
        {{ product.nghecnkt }}
      </td>
      <td
        [ngClass]="{
          'text-blue-600': product.status != null && product.status != 0
        }"
        style="width: 5%; word-break: break-word; text-align: center"
      >
        <span class="p-column-title">Hiện tại</span>
        {{ product.strHientai }}
      </td>
      <td
        [ngClass]="{
          'text-blue-600': product.status != null && product.status != 0
        }"
        style="width: 5%; text-align: center"
      >
        <span class="p-column-title">Kiêm nhiệm</span>
        {{ product.strKiemnhiem }}
      </td>
      <td
        [ngClass]="{
          'text-blue-600': product.status != null && product.status != 0
        }"
        style="width: 7%"
        class="text-center"
      >
        <span class="p-column-title">Thao tác</span>
        <div>
          <button type="button" class="mr-2" (click)="suachucdanh(product)">
            <i class="fa-light fa-pencil icon-size-5" matTooltip="Sửa"></i>
          </button>

          <button type="button" class="mr-2" (click)="delete(product)">
            <i class="fa-light fa-trash-can icon-size-5" matTooltip="Xóa"></i>
          </button>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>
